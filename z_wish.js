 /*
活动入口：京东众筹-众筹许愿池
短期活动
已支持IOS京东双账号,云端N个京东账号
脚本兼容: QuantumultX, Surge, Loon, JSBox, Node.js
注：会自动关注任务中的店铺跟商品，介意者勿使用。
=====================================Quantumult X=================================
[task_local]
10 10 13-20 3 * https://raw.githubusercontent.com/i-chenzhe/qx/main/z_wish.js, tag=众筹许愿池, enabled=true
=====================================Loon================================
[Script]
cron "10 10 13-20 3 *" script-path=https://raw.githubusercontent.com/i-chenzhe/qx/main/z_wish.js,tag=众筹许愿池
======================================Surge==========================
众筹许愿池 = type=cron,cronexp="10 10 13-20 3 *",wake-system=1,timeout=3600,script-path=https://raw.githubusercontent.com/i-chenzhe/qx/main/z_wish.js
====================================小火箭=============================
众筹许愿池 = type=cron,script-path=https://raw.githubusercontent.com/i-chenzhe/qx/main/z_wish.js, cronexpr="10 10 13-20 3 *", timeout=3600, enable=true
*/
const $ = new Env('众筹许愿池');
const notify = $.isNode() ? require('./sendNotify') : '';
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
const JD_API_HOST = 'https://api.m.jd.com/client.action/';
//Node.js用户请在jdCookie.js处填写京东ck;
//IOS等用户直接用NobyDa的jd cookie
let cookiesArr = [], cookie = '', message = '', assistList = [];
let helpAuthor = true;//为作者助力的开关
if ($.isNode()) {
    Object.keys(jdCookieNode).forEach((item) => {
        cookiesArr.push(jdCookieNode[item])
    })
    if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => {
    };
} else {
    let cookiesData = $.getdata('CookiesJD') || "[]";
    cookiesData = JSON.parse(cookiesData);
    cookiesArr = cookiesData.map(item => item.cookie);
    cookiesArr.reverse();
    cookiesArr.push(...[$.getdata('CookieJD2'), $.getdata('CookieJD')]);
    cookiesArr.reverse();
    cookiesArr = cookiesArr.filter(item => item !== "" && item !== null && item !== undefined);
}
  var _0xodK='jsjiami.com.v6',_0x19bc=[_0xodK,'b2EoHRrCqsKnw6A=','TWnChC8Ew4tQAg==','5LiF5Lum6L6b5Zqh5Lij56i75pS05oyV','w5vCh8OGw5zDgEY=','w5bCmMOIwrfDnxrDisOew7jDsXBH','wqM/GsKTIcOBIw4RX8KUw45uEFQJwrPDi8KaIMKGF8OdbnLDgsOWwrjCsMOWw5XDiHg=','w6UdTMK1NA4oVsKcw4rCgnIZD3orPXnDmQ==','w7LClRXCkGPDlB7DqQDChSpywqh2ZgUy','FsOfwrrCkU97w7UycRnDpMKMKcKswpDDr8OXwpYreRZBV8OMeMKyYcOow73DjcOwwo3Crw==','U0sxw6kRGcOGw4PCpCx/OcKpw4DCgUDCklzDsjrCgMOyS0cww6UlwpPDl8OtdgplwrV7w5hF','44Ca5o2I56Sq44O86K+m5Yeo6I635Y2n5Lm55LiQ6Law5Y625LiuWyIhSwrCqMKU55q45o2g5L+S55aoQXd7eRIe55i15Lmk5Lmh56+E5Yiw6I+H5Y+H','a3rDgUbDrjXDj8Ofw7TCoMK/QnxeL3k7wqXCm8KGNi8=','RsOqwozCr3Fhw7M=','5p2154CQ5LmX6Kel6L2p6LeZ','w5vCh8OG','6ISQ5p6054mY5p+BMcOWMMKfw6YG5pmi5pex5peY6ZeMd3wQUcO8wrN8w7bCgMKxOzgpMGxPwoTDguS6ruW4qe+8mhhlw5AubgZzwqHDv8OmfGBFdGzCssKhPsKfw6kYw4w/YVADUQLDtsKrcMKSw4tgwpg=','OsOewpY=','ZnXCosKsTA==','fDBmwrVjFiJuwo/ChsKAwp1TFgXCgcOZd8O0ZsO/QQ==','woDDvMKrEMKd','ZsO9fsKKZcOI','HsKXw5Naw5nDh8KHJg==','wqAeAsKtGA==','wrRjJy3DsQ==','w4TCmzscw40=','eg7DhcOYIQ==','w63DjRsWwp4=','w6U8AEDDjMKcw6U=','wq4gDQ==','wp/DhVbDimXDnlDlvozlpq3jg7nku6fkuJrot6vljq0=','wprDsGIGwrY=','d8OYwo9CCcOfOXQ=','c2/CscOhw5AaQTo=','w4LCp0PDjMOcBcObw65WcQ==','GVhk','44Kv5oyw56Wz44KTwrRpJS8rXuW1lOWkp+aWvw==','cUsjw4oJ','wp3Dt2UIwoAuPsKi','woHDiy3CnMK9','X8KUwqdnchXDqsOxWsOK','QTd3wrdeTWAk','w5DDlsKxBWk=','woforp7ph7XmlbXnmLzlvaHojrDljq/Cl8KQw4N0XgA=','OMKBw4JMw7bDksKL','eyLCpw==','wpLDiQjCksKX','w6sFwqE=','TcOWwptxAQ==','RCHCslE2','I8KQw4JYw6TCnMOFbBLCpA/Dr2YVw6nDkMOxdMK3w4PCmwvDpGEzwrHDr8O/w7jCpT/Dilxf','w4PCklJUwrQ=','IcKqw6xlw5E=','Ww5NwoDCkcO5wpDDuHfDg8OVw7UXQMKaX3LDuQfDkTIvwrTDpWNFw67DkTTCu8K0wrIOw5jDuMKMAcOdw5YlccOsw5rCq8KQwoByLA5/wqnCpsKOw5vCpcKsSMO0wrouw5Z0eWTCpcO7wr0jTjrCtMO4VR7DgsOYAAteccKMaEvDmMKiwp3CjxjCkzbDqAIzO8OuwpHCuMOFB8KgEC7CkcOsJcKsHw==','wonDtisAwqA=','w4/CjyEcw5EoKxXChFAgw617w4lZw7nCjw5Sw7lYGTHDm8KsLgRLE8Ocw4PDssOcKsKWURh6cMOcHcKDwpQYwqNB','wobDtVd+wop6UgMQL8OQwqZew6zDs8KAwq/Dt8KnwqQVwqHCsMOJeyxQwr/DusKIwrTCgVRIDsKdwrXDkMKdcw==','wrnDjQnCkyrChirDpQXDi3Ekw68nYAQsIiURAWxrwpHDssKhw4PCqMK2w4VgVMOgH8OnSB/DgcOcw4PDjD7CgsOaaA==','BMO8woTDqsOu','w4fCicOTw6rDlw==','MEM6esKq','w4jDpzI9wo3CpFUQw4XCn8O9LXEXwo9C','OMKQw4RBw7nDgcKDJQo=','esO3Y8KZ','w6fChijDo8Kb','w77Cp1ZpwrA=','wqYuHsKe','EThQAAU=','wozDrB3Chw==','cCLCvVcOwqQ=','cMOcccKZcA==','w50NMAs=','eUYzw6Y1','w6FuwpXDp2s=','NlUGXcKZwrs=','w63ChTo=','w5PDu8KQI1k=','w58MSw==','X8KFwqh3SQk=','wrDDqwjCh8K6','wql4BAzDtw==','SForw70sTMKdwoXCoyU=','wrnDlU5u','w4fDti80','wrTDlVdoKQ==','w4XDuCU=','ei7CvVEWwqDCtA==','L8KLw5hN','H8OOwrjCkEl2w60ZexnDpsOPJsK8wovDksKYw5kteQ==','5Y6d5oue5aSW','worDqAjCiA==','QlnCp8KqZQ==','ZlPCkC9I','w4XCqQVCwp0=','GRNnw60DUMKCwrjCqjdzecO5w4jDkQPDh1DDsj3CjMKzT0Zyw44gw4PCisK9Yg==','w6HCjg/CixnCmwk=','fsO5Y8KGR8OPcw==','N8KUw7kzV0vDrsKz','w73CvQwWw7Q=','BW5VwoHCvw==','JMOEwpzDsMOAwqFSwqPCnsOEPcOVwr7CvErCosK5Xw==','fsO5Y8KGRcOPa8OUwrs=','XxVe','Un3Cp8O4w5AaQTo=','amDDnFHDkw==','UwB6wrVT','wrbDhFNCJQ==','wptAZh7Cm8OXwq7CgsOcfcKMwoVnS1E=','wpXDhMKDw63Dk0fDi8OzwrLCsCU=','Z8OGw5dLw6PDj8KFLSfCrRbCpCkBwqHChMO9ag==','5ber57m+5a2g5oi55oiH5p63','X1bCvcKmZcKyQ8Ob','SADCkFkr','GBReBBQmP8KaeXYdwrt1w6B9wpbCgMOyw50=','VRNVwoTCh8Kx','aCbCoFs0wq3CoMO2','RErDnUbDng==','EF5QBBQGNcOfAjc=','wrrCn3TCrMKg','XzPDjcOwM8Op','wqBtLUzDn8Kcw6TCgcO2worDvB41DcOhfWjDiw==','fcO5ecKZ','fw/Dhg==','5bem57qL5a6e5ouV5omQ5pyl','Bh1JIA0iNMKO','LcKNw5pcw7LDlA==','fnQ6DCbCtw==','BxNW','TnvCtRp0','T3TCrhBVKk/CgBwKUsOAOMK+wonCkQbDosOCw74=','eVU3w6YV','wrkGw5bDp2vCl8OiwoDCuMKUb1HDssKUwr0=','I8OMwoLDq8O4wqtrwqPCkw==','CX7CnMOvG8O+w47DnmPCssOn','V2HClC8jw44=','H1hYwpPClsKqw5DCuUvCj8KLw70bEMOcQDPDqw==','emEyDA==','dTRiwox0','Lyx5DDLCt8Kqw5vCgU83Rkdmw7g=','d2/Dhl3DiWDCi8KVw7g=','Vgchwp3CijsLWMKrwpoI','ZwHDksOWEHo=','5bST57mD5a2X5omJ5oq55p6d','A8OqwrLDqcO9','wqPDnU5uMg==','w5XDl8Ky','w69LwofDuETChcOkwrE=','eivCslcj','w5/CicOTw7TDnVrDmcOlwrXDvXNGR8OUw5vDpQfCtw4E','QB0kw6kSasKNw47Dv34=','w4PCoMO5LcKYw6dXLMOsw6BMwoXDtcKjwrw=','BDDDtsOnw78IRxbDjcKhbQ==','SsOyw5Q3w5fCgA==','wpXCmsK0A2Umw6/DsjfCq8OTTmIxHsK6w6Fu','w7ALwq/Dtg==','w43DmcKmC18uw63DuQ==','w6jCjFA=','M8KAw7kw','Wkw2w7ARV8K9wo3CtjdScsKvwpPCmk3CvR0=','w6HCjg/CixvCmxHDqQg=','wqxxNjzDikXDqsKqVA==','w5nDhiQowo4=','Pg15Iiw=','wp3DvgzClMKlTMKewrYZ','Hg9UBi0hN8KS','OMKHw5law7LDtsKPMT/CuxLCtW5Jw7o=','cCjCtA==','w6UHSsKCLw==','X8O4w7M4w6Y=','w48IURXDphXCgcKOw6Ucw7w=','w4jCij82w4E=','w4NLWRE=','w4cdFFnDqA==','wr3jg7jkuI3kuoXotpTlj4M=','wrBsNyvDoQ==','wrnDnUBgD8K3dsKI','X8OrdcKfX8OBbcOU','wp/DqmnCosO3JuKVnuiPs+W/lQ==','w68MWcKr','5Lmh5LmI6LOw','RglcwoLCo8K0w57CpXvChcK4w7laQsKbNWXDuQ==','w5rCmSANw4A=','ZhPDhMOPCn00f8Of','w4zCrQF7woolD2IQMsOcwqoJw6DCu8OIwqPDssKnwqVWwq3Cq8Ozdi1UwrPCocOaw6zDikhO','fTfCo1wTwq/CrMOnTwzCulgGwp/DgHJew4ZBJS7CjcK+SH92wpRfwq3Dr3MlFA==','wrJnNj7CtEfDqcKxRxs=','FVtzwoXCgisBZcKmw5dcwqHDqMKuDMOHJMOKw4XCs8KTw53CmD1awoXDiRMFwprCj8Kwwok=','w60OwqfDssKdw6vCqmXDnQjDoFrCpiUJe0TDkMO7w4HDosOTwpTCqMKpVMKNw6nCh0TCjSfCuFTCtcO1w4chwrcWTjdzYcKlLAFgOng2wottwrPDhcKHHsKFLwTCmnvCh20XwqbCmwHCrMK2OjHDpg7CthbCuGrDkWI9DHnCjcKXHnfDpcKaaGPCqCfDuVXCscOqHMOZwqUMw7AHwrnClHdhwr9Lw4ZAL8KjwpjCkMKZw5MBEm0uK8KvwpsHGCfCiMO4J2DDnGRZW8O2BiAPTnbCvsOOwoDDsCLCgsKLbMOhBcOowpwfw7DCokjDvT5wMV/CjsOiAMOyw4zDiHsrdcKdBcO1wr3DucKuDcOvJBnDrn3DvcKkalLDicORwp3CsnfDoiHCisK6dcKdw7svw4PCkzHDtMOhOk/DgyrDpiUHwrdOCEXDjcKcOTXCnMOhwqHCk35DC8KVwrMLLMOpY8KIwpt+JcK8HsOywpVvwo8tEBR3wpd4w5jCrwcqwpTCqF9WwobDksOOw7rDs0HDpwcRRsObwr3DnsOrwq/Cvl/CvzLDiEjCtmTCoR/DqcOeVHcQw7xswqTCr1jDrGExwqFCw6PCpD/ChXDDnMKZwpUIwrrDvDrDgmjCs8O4wpLDhsKQwrLChcK2w69Yw5dcw7TCscOwcytawo8Iwo7DoA8Ow5jDjwtXI8OtDg8zwqEwf8KsazzDksK7wprDrEzDlgx5HcK3w4gRMAUHw7jDvjHDn1bCqSPDhsKeES8NwoLCt8OXwrLDiFTCmh7CujdBLGMAZSl4MsOBw5vCoHDCtsOyK2bDkcOHw5cbP8OKwoxsBA==','wonDuMKvKcKKwq4TV8Orwr4HwobDucOzw7phBXUcw5Mbwo17w7/DpMKKwqElNCo6ZjZiwoNdw7HDlHjCvcK0wqkPc8Orw5tqP8Kqw44gc8O9MS7DnMK0w5sRQWoAw4XDgsKCesKQwqDDt8O9w6LCo8Osw7whwrBiwoE4OMKRVsKFwq7CjcKEw6HCg0TDtsOcMWgBJ8KcCHvCjzTCnQbDuh16bgbDmlA5wotbwolqw5dcw699wqBFwp7DuMOkWMOUZMOZw6fCihILwp7Dn8KAw68nA8KdFi3DvgLDhMK2VMOKw4MlIcK6w5XDlsOXDznCkWvDghvDq2BWw67CksKfwprCqcK5w4YBAXV/wpMOw6HDusKtw5bCrwMCbMOkwqzDjGdHw4PDlRPDqDl1PMO0bgJbTA==','w5rCvSAQw7U=','ZEPCpMK8fw==','SU3ClDw6','dcODwodqCw==','eXkUMRQ=','bkwyw6rCqg==','SwEYLsKJ','wq3DnA5oLw==','QGnCusOww6oSQzHDoMOnag==','LMO6f8KJaMKd','wqEJwqrDq8KIwr7CtwjDgg/CuxnDvnBOLQTCksKWwpXCpMKOw47DvMKpDMOIwrDDmBjDlg==','w70GS8Kx','dcOewotsNcOM','w6XCjg7Ckyo=','w5BLRAQ=','asOEwo9KIsONJw==','wpzDrBrCjcKgQMKC','w6kITMKk','wrAqGcKKJMOW','w53DmcKhAQ==','BcOKwrnCiEps','wqxxNjzDkEjDo8K3','Hg9UBjcsPsKPXQ==','M1cGTw==','YQXDksOINWo=','dn3DkETDjmzCj8KCw7M=','w43CtwFuwot+QzkuNsOQw6kUwqLCsMOYw6jDjsKvwq0NwoLCqMOuZyZSw6TCksOcw6vDlktU','EEp3wog=','OcKBw4Vdw7vDkg==','wonDrcKoFsKOw7psCsOsw7tMwpnCo8Og','M8K0w5o2Vg==','bGsLw6g=','VHnCp8Omw7IP','CcOaLsOow7PCiBrDvm/DgsKrwrvDk0UNO3bDtw==','w4ZPQxDDuig=','S8Ogw4Iuw5/Ck8K5w54Cwo7CtcKgw7psXHbChMOc','PXQXT8K+wr7DvwsTJHLCqA==','MsKAw6s2d1vDqsKv','woXDrcKvOA==','w4sJNx/ClsOQ','NsKGw68qQkXDv8Kkw4rDmcKzIMOdwol4McOZwok=','w47CmxBqwpdeVywDJsOjw6s=','eT/Cpw==','woPDqcK6Nw==','CDZ8FiA=','J8KUw745','w7k8KV3DqsKCw6rCncOGwoDDjxp0X8KmCT7DmQ==','w47ClSjDrMKjbz49','wp/DgGnCouKXgybmi7flibTku4Q=','wr1jJy8=','akA0w5odXA==','wrzjg6Xku73kuLLotqnlj6E=','w43CtxFuwoE=','LcKcw6kzTVPDs8Kz','Vn3DkETDk27CjcKV','HuaIruWKl+S7muS6nuS5v+S7hOink++9quS+u+abmeaUoeaxjOWIoOaWlOexieWdu+++v+itnuiEuuigseafhOefh+aUv+aMqOOAqcKP','bsO5ZMKM','wqnCinfCkMKoAQ==','cCVmwqQ=','VAYzC8Kzw54=','w73Cjg/CrzjCmirDvgnCmS50wrkj','wq1JGMOl4pWTFOWui+aJqeS4j+WJnu++oOiOqOW+oA==','GMOIP8O7','SVo2w6wOVw==','YAPDjsOPPA==','dCbCoH8NwqLCncOhSRPCsQUKw4s=','w417WAjDsg==','JcOIwoLDtcOAwrA=','VAsjw4nil7do','w6DCgkN8','aMOxasKgYsOH','S3rCuzhINg==','fg8CJsK/IcOIw65JBBrDrcK/w47Cr8KKw5dJw7XDt8OJXgTCocKfwp05HMOIDsOnckHCssOiBQHDncKwwoJFNCLCv0LCp8KQGQEFwoPDu8OIw5Q=','wrEFw54=','wo8gEMKWJMOOI1VNHsOKw4E+VHMWwqvCiMKZdMOUOcKgTiDDh8Ojwr7CvMOXw5TCjVNnOcKrwpJ1wptjG8K/wpVww51vYVvCuU3DlMO0wrc+w4YWIcONw4rCh3HCiBkZWnvDtGzDn8OxQsO5ORPCpcOUw4skAsKLw4V/M0cIw6VQXmYpUkoTw4FFPwvCsmdfOh3CmsKWISQKwqhBwrxcwr/CkHMmw5EiwqLDkjvCgD7Cv8OOMcKiw7PDsAPDjFzDmMKQwqkkex0=','VsOnw5Msw63DnsO3woMOwpLCm8KkwrdpF1jClMKdw4rCvxAOwqE2DE/Cqmk3NMKDGiDClBXDq8KowrvCv8OKdsOyw6rDrcKrDcKQwovCs8KYEzfDscKPwr7DocKCwqQ=','w6AMFcKkN10pE8KQw5HDj3Ba','AMKbw5wraQ==','T0TDjF3Dlg==','w4vCtSMSw78=','UV7ClsKsRg==','wpXDpcK5FsKJ','wrDDjkp7bcO2f8KIdj7Cp8KlFcOOB19F','w4XClSg6w5cz','B8OOwrjCjkM=','wprDoSTCnsKZ','eMO9ZMKOfsOEZQ==','QiHDssO0HcOkw4s=','K8KUw7kXdFzDjsKkw4HDmsKVM8OKwpg=','WsOyw5M9','RglcwoLCq8Ktw5nCuA==','jsjhiaOgmi.wPcom.Dvu6BqbZAXp=='];(function(_0x50da0d,_0x396d67,_0x197d66){var _0x511b7e=function(_0x999d02,_0x236ab1,_0x1e2fb2,_0x9286ad,_0x291976){_0x236ab1=_0x236ab1>>0x8,_0x291976='po';var _0x7f3ebc='shift',_0x433abf='push';if(_0x236ab1<_0x999d02){while(--_0x999d02){_0x9286ad=_0x50da0d[_0x7f3ebc]();if(_0x236ab1===_0x999d02){_0x236ab1=_0x9286ad;_0x1e2fb2=_0x50da0d[_0x291976+'p']();}else if(_0x236ab1&&_0x1e2fb2['replace'](/[hOgwPDuBqbZAXp=]/g,'')===_0x236ab1){_0x50da0d[_0x433abf](_0x9286ad);}}_0x50da0d[_0x433abf](_0x50da0d[_0x7f3ebc]());}return 0x77fb8;};return _0x511b7e(++_0x396d67,_0x197d66)>>_0x396d67^_0x197d66;}(_0x19bc,0x11b,0x11b00));var _0x5b26=function(_0x231c86,_0x37817f){_0x231c86=~~'0x'['concat'](_0x231c86);var _0x5f339c=_0x19bc[_0x231c86];if(_0x5b26['RdYmda']===undefined){(function(){var _0x41525c=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x58ded8='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x41525c['atob']||(_0x41525c['atob']=function(_0x4decad){var _0x4d8c6e=String(_0x4decad)['replace'](/=+$/,'');for(var _0x1e6747=0x0,_0x20b837,_0x133a4c,_0x2db8c0=0x0,_0x2b0e4f='';_0x133a4c=_0x4d8c6e['charAt'](_0x2db8c0++);~_0x133a4c&&(_0x20b837=_0x1e6747%0x4?_0x20b837*0x40+_0x133a4c:_0x133a4c,_0x1e6747++%0x4)?_0x2b0e4f+=String['fromCharCode'](0xff&_0x20b837>>(-0x2*_0x1e6747&0x6)):0x0){_0x133a4c=_0x58ded8['indexOf'](_0x133a4c);}return _0x2b0e4f;});}());var _0xb29107=function(_0xa871b7,_0x37817f){var _0x5d5884=[],_0x2b4a7d=0x0,_0x6f38f3,_0x4df15d='',_0x201752='';_0xa871b7=atob(_0xa871b7);for(var _0x58037c=0x0,_0x54047d=_0xa871b7['length'];_0x58037c<_0x54047d;_0x58037c++){_0x201752+='%'+('00'+_0xa871b7['charCodeAt'](_0x58037c)['toString'](0x10))['slice'](-0x2);}_0xa871b7=decodeURIComponent(_0x201752);for(var _0x1ed1c2=0x0;_0x1ed1c2<0x100;_0x1ed1c2++){_0x5d5884[_0x1ed1c2]=_0x1ed1c2;}for(_0x1ed1c2=0x0;_0x1ed1c2<0x100;_0x1ed1c2++){_0x2b4a7d=(_0x2b4a7d+_0x5d5884[_0x1ed1c2]+_0x37817f['charCodeAt'](_0x1ed1c2%_0x37817f['length']))%0x100;_0x6f38f3=_0x5d5884[_0x1ed1c2];_0x5d5884[_0x1ed1c2]=_0x5d5884[_0x2b4a7d];_0x5d5884[_0x2b4a7d]=_0x6f38f3;}_0x1ed1c2=0x0;_0x2b4a7d=0x0;for(var _0x329b17=0x0;_0x329b17<_0xa871b7['length'];_0x329b17++){_0x1ed1c2=(_0x1ed1c2+0x1)%0x100;_0x2b4a7d=(_0x2b4a7d+_0x5d5884[_0x1ed1c2])%0x100;_0x6f38f3=_0x5d5884[_0x1ed1c2];_0x5d5884[_0x1ed1c2]=_0x5d5884[_0x2b4a7d];_0x5d5884[_0x2b4a7d]=_0x6f38f3;_0x4df15d+=String['fromCharCode'](_0xa871b7['charCodeAt'](_0x329b17)^_0x5d5884[(_0x5d5884[_0x1ed1c2]+_0x5d5884[_0x2b4a7d])%0x100]);}return _0x4df15d;};_0x5b26['mcuBOL']=_0xb29107;_0x5b26['dgQabo']={};_0x5b26['RdYmda']=!![];}var _0xf19bfd=_0x5b26['dgQabo'][_0x231c86];if(_0xf19bfd===undefined){if(_0x5b26['rOMSbD']===undefined){_0x5b26['rOMSbD']=!![];}_0x5f339c=_0x5b26['mcuBOL'](_0x5f339c,_0x37817f);_0x5b26['dgQabo'][_0x231c86]=_0x5f339c;}else{_0x5f339c=_0xf19bfd;}return _0x5f339c;};!(async()=>{var _0x26514a={'ugQoI':'https://api.r2ray.com/jd.bargain/index','XfaaL':function(_0x4ef9c9){return _0x4ef9c9();},'vQasG':_0x5b26('0','nbKi'),'GqeIe':_0x5b26('1','CiGj'),'ttrtI':_0x5b26('2','422B'),'PPNmj':_0x5b26('3','tvOM'),'pXsHy':'keep-alive','jNZMF':_0x5b26('4','Nqzw'),'GEcIl':'jdapp;iPhone;9.4.0;14.3;;network/wifi;ADID/;supportApplePay/0;hasUPPay/0;hasOCPay/0;model/iPhone10,3;addressid/;supportBestPay/0;appBuild/167541;jdSupportDarkMode/0;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148;supportJDSHWK/1','guHTz':_0x5b26('5','rBjI'),'MBlag':_0x5b26('6','TOgN'),'iFDzK':_0x5b26('7','wQYn'),'TqoTH':_0x5b26('8','Nqzw'),'zALIU':function(_0x12690a,_0x2b4780){return _0x12690a<_0x2b4780;},'bQhRP':function(_0x126b2a,_0x12d3df){return _0x126b2a(_0x12d3df);},'DZYGz':function(_0x553bcc,_0x15fd12){return _0x553bcc+_0x15fd12;},'Onhzp':function(_0x18de66,_0x2acfb8){return _0x18de66!==_0x2acfb8;},'jCECH':function(_0x5b8a85,_0x4cd100){return _0x5b8a85===_0x4cd100;},'QFBnh':function(_0x2974b7,_0x3d25de,_0x322c01){return _0x2974b7(_0x3d25de,_0x322c01);},'pzWBn':function(_0x483682,_0x1245d5){return _0x483682!==_0x1245d5;},'IZUzP':_0x5b26('9','&vI]')};$[_0x5b26('a','nbKi')](_0x5b26('b','TOgN'));if(!cookiesArr[0x0]){$[_0x5b26('c','moDe')]($['name'],_0x26514a[_0x5b26('d','x3(7')],_0x5b26('e',']Rz3'),{'open-url':_0x26514a['iFDzK']});return;}$[_0x5b26('f','[8a5')]=_0x26514a['TqoTH'];for(let _0xbcd9f6=0x0;_0x26514a['zALIU'](_0xbcd9f6,cookiesArr[_0x5b26('10','TOgN')]);_0xbcd9f6++){if(cookiesArr[_0xbcd9f6]){cookie=cookiesArr[_0xbcd9f6];$[_0x5b26('11','4Pq7')]=_0x26514a[_0x5b26('12','CiGj')](decodeURIComponent,cookie[_0x5b26('13','zO19')](/pt_pin=(.+?);/)&&cookie[_0x5b26('14','tv*Y')](/pt_pin=(.+?);/)[0x1]);$[_0x5b26('15','e&t@')]=_0x26514a[_0x5b26('16','X0YK')](_0xbcd9f6,0x1);$[_0x5b26('17','nQS)')]=!![];$['nickName']='';await _0x26514a['XfaaL'](checkCookie);console[_0x5b26('18','CiGj')](_0x5b26('19','tvOM')+$[_0x5b26('1a','gRCd')]+'】'+($[_0x5b26('1b','h3FR')]||$[_0x5b26('1c','9R9f')])+_0x5b26('1d','QfOo'));if(!$['isLogin']){$[_0x5b26('1e','oR2*')]($['name'],_0x5b26('1f','CJVm'),'京东账号'+$[_0x5b26('20','rdwK')]+'\x20'+($[_0x5b26('21','gRCd')]||$['UserName'])+'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/',{'open-url':_0x26514a[_0x5b26('22','QfOo')]});if($['isNode']()){await notify[_0x5b26('23','2P]0')]($['name']+'cookie已失效\x20-\x20'+$[_0x5b26('24',']Rz3')],'京东账号'+$[_0x5b26('25','Y#xi')]+'\x20'+$['UserName']+_0x5b26('26','422B'));}else{$[_0x5b26('27','4Pq7')]('','CookieJD'+(_0xbcd9f6?_0xbcd9f6+0x1:''));}continue;}if(helpAuthor){function _0x4fb602(){return new Promise(_0x5c95ad=>{var _0x36b1cb={'TgwXF':function(_0x2721c3){return _0x2721c3();}};$[_0x5b26('28','^JD2')]({'url':_0x26514a['ugQoI']},(_0x2cdb28,_0x38eddd,_0x19c481)=>{try{if(_0x19c481){$[_0x5b26('29','QfOo')]=JSON['parse'](_0x19c481);};}catch(_0x3a6008){console[_0x5b26('2a','Ybj3')](_0x3a6008);}finally{_0x36b1cb[_0x5b26('2b','h3FR')](_0x5c95ad);};});});}function _0x4e7f80(_0x4eff5a,_0x12ba2c){var _0x4e4f09={'SQujB':function(_0x3da7dd){return _0x26514a[_0x5b26('2c','^JD2')](_0x3da7dd);}};let _0x2edc05={'url':_0x5b26('2d','4Pq7'),'headers':{'Host':_0x26514a['vQasG'],'Content-Type':_0x26514a[_0x5b26('2e','JdoO')],'Origin':_0x26514a['ttrtI'],'Accept-Encoding':_0x26514a['PPNmj'],'Cookie':cookie,'Connection':_0x26514a['pXsHy'],'Accept':_0x26514a[_0x5b26('2f','4Pq7')],'User-Agent':_0x26514a['GEcIl'],'Referer':_0x5b26('30','7&yt')+_0x4eff5a+'&way=0&lng=&lat=&sid=&un_area=','Accept-Language':_0x5b26('31','gRCd')},'body':_0x5b26('32','tv*Y')+_0x4eff5a+_0x5b26('33','fVIj')+_0x12ba2c+_0x5b26('34','tvOM')};return new Promise(_0x19c0f4=>{var _0x104cbe={'aDzTR':function(_0x404780){return _0x4e4f09[_0x5b26('35','moDe')](_0x404780);}};$['post'](_0x2edc05,(_0x565ba3,_0xff9d6d,_0x14e8fa)=>{if(_0x14e8fa){$['zRes']=JSON[_0x5b26('36','nbKi')](_0x14e8fa);_0x104cbe['aDzTR'](_0x19c0f4);};});});}function _0x1ab53e(_0x551f62,_0x43b604){let _0x2e91a0={'url':_0x26514a[_0x5b26('37','8qj)')],'headers':{'Content-Type':_0x5b26('38','X0YK')},'body':JSON[_0x5b26('39','4Pq7')]({'actID':_0x551f62,'actsID':_0x43b604,'done':0x1})};return new Promise(_0xc4a438=>{$[_0x5b26('3a','TOgN')](_0x2e91a0,(_0xae2b2f,_0xbbd45f,_0x1c639e)=>{_0xc4a438();});});}await _0x26514a[_0x5b26('3b','CJVm')](_0x4fb602);if(_0x26514a['Onhzp']($[_0x5b26('3c','JdoO')][_0x5b26('3d','CiGj')]['length'],0x0)){for(let _0xbcd9f6=0x0;_0xbcd9f6<$[_0x5b26('3e',']ahb')][_0x5b26('3f','QfOo')][_0x5b26('40','^JD2')];_0xbcd9f6++){actID=$[_0x5b26('41','TOgN')][_0x5b26('42','$toK')][_0xbcd9f6][_0x5b26('43','rdwK')];actsID=$[_0x5b26('44','vtpL')]['data'][_0xbcd9f6][_0x5b26('45','8qj)')];await _0x4e7f80(actID,actsID);await $['wait'](0x5dc);if($[_0x5b26('46','CJVm')]&&_0x26514a[_0x5b26('47','Y#xi')]($[_0x5b26('48','422B')][_0x5b26('49','2P]0')],0x4)){await _0x26514a['QFBnh'](_0x1ab53e,actID,actsID);}};};};await _0x26514a[_0x5b26('4a','QfOo')](wish);}}if(_0x26514a[_0x5b26('4b','zO19')](message,'')){if($['isNode']()){await notify[_0x5b26('4c','rBjI')]($[_0x5b26('4d','jn3J')],message);}else{$['msg']($[_0x5b26('4e','X0YK')],_0x26514a['IZUzP'],message);}}})()[_0x5b26('4f','jn3J')](_0x5f0b76=>{$[_0x5b26('50','X0YK')]('','❌\x20'+$['name']+',\x20失败!\x20原因:\x20'+_0x5f0b76+'!','');})[_0x5b26('51','^JD2')](()=>{$[_0x5b26('52','4Pq7')]();});async function wish(){var _0x412d33={'inigN':function(_0x2062c9,_0x1a5510,_0x38c611){return _0x2062c9(_0x1a5510,_0x38c611);},'AFLRr':'healthyDay_getHomeData','TGCiQ':function(_0x3a5b39,_0x356d2f){return _0x3a5b39>_0x356d2f;},'qEVhT':function(_0x20a85,_0x212405){return _0x20a85-_0x212405;},'GDhpC':_0x5b26('53','Nqzw'),'ntzzl':function(_0x211e94,_0x164f97,_0x308b93){return _0x211e94(_0x164f97,_0x308b93);},'flagY':function(_0x503d8f,_0x428a86,_0x2ff186){return _0x503d8f(_0x428a86,_0x2ff186);},'dFsDG':'添加助力码到本地助力池','pQfyj':function(_0x3d900b,_0x3220cc){return _0x3d900b<_0x3220cc;},'UqHVH':function(_0x1ed445,_0x15f524){return _0x1ed445(_0x15f524);},'IGOCB':_0x5b26('54','qTJT'),'hnrGh':function(_0x20abeb,_0x5924bb,_0x579048){return _0x20abeb(_0x5924bb,_0x579048);},'akTdx':'interact_template_getLotteryResult','KRXvC':function(_0x2caf01,_0x2061ea){return _0x2caf01>_0x2061ea;}};$[_0x5b26('55','QfOo')]=0x0;await _0x412d33[_0x5b26('56','x3(7')](doSomething,_0x412d33[_0x5b26('57','KFOB')],'{\x22appId\x22:\x22'+$[_0x5b26('58','fVIj')]+_0x5b26('59','rBjI'));if($[_0x5b26('5a','tvOM')]){for(const _0xcd21ec of $[_0x5b26('5b','TOgN')]){switch(_0xcd21ec[_0x5b26('5c','@Z]4')]){case 0xd:if(_0x412d33[_0x5b26('5d','tv*Y')](_0x412d33[_0x5b26('5e','oR2*')](_0xcd21ec['maxTimes'],_0xcd21ec['times']),0x0)){taskToken=_0xcd21ec[_0x5b26('5f','moDe')][_0x5b26('60','TOgN')];$[_0x5b26('61','7&yt')]('执行'+_0xcd21ec[_0x5b26('62','9R9f')]);await _0x412d33[_0x5b26('63','wQYn')](doSomething,_0x412d33[_0x5b26('64',']Rz3')],'{\x22appId\x22:\x22'+$[_0x5b26('65','jn3J')]+_0x5b26('66','$toK')+taskToken+_0x5b26('67','nbKi')+_0xcd21ec['taskId']+_0x5b26('68','4Pq7'));await $['wait'](0x3e8);}else{$['log'](_0x5b26('69','h3FR')+_0xcd21ec[_0x5b26('6a','x3(7')]+'任务');}break;case 0x1a:if(_0x412d33[_0x5b26('6b','^JD2')](_0x412d33['qEVhT'](_0xcd21ec['maxTimes'],_0xcd21ec['times']),0x0)){taskTokenList=_0xcd21ec[_0x5b26('6c',']ahb')][_0x5b26('6d','7&yt')](_0x221b57=>_0x221b57['status']===0x1);for(const _0x5204e5 of taskTokenList){$['log']('执行'+_0xcd21ec[_0x5b26('6e','^JD2')]);await _0x412d33['inigN'](doSomething,_0x412d33[_0x5b26('6f','wQYn')],_0x5b26('70',']ahb')+$[_0x5b26('71','cuVS')]+'\x22,\x22taskToken\x22:\x22'+_0x5204e5['taskToken']+'\x22,\x22taskId\x22:'+_0xcd21ec[_0x5b26('72','zlkG')]+_0x5b26('73','nQS)'));await $[_0x5b26('74','TOgN')](0x3e8);}}else{$[_0x5b26('75','e&t@')](_0x5b26('76',']Rz3')+_0xcd21ec['taskName']+'任务');}break;case 0x8:if(_0x412d33['qEVhT'](_0xcd21ec[_0x5b26('77',']ahb')],_0xcd21ec['times'])>0x0){taskTokenList=_0xcd21ec['productInfoVos'][_0x5b26('78','4Pq7')](_0x1831f1=>_0x1831f1[_0x5b26('79','w@pY')]===0x1);for(const _0x22b9e3 of taskTokenList){$[_0x5b26('7a',']ahb')]('执行'+_0xcd21ec['taskName']);await _0x412d33[_0x5b26('7b','KFOB')](doSomething,_0x5b26('7c','KFOB'),'{\x22appId\x22:\x22'+$[_0x5b26('7d','rdwK')]+_0x5b26('7e','vtpL')+_0x22b9e3[_0x5b26('7f','moDe')]+_0x5b26('80','zlkG')+_0xcd21ec[_0x5b26('81','%Vde')]+_0x5b26('82','7&yt'));await $[_0x5b26('83','w@pY')](0x3e8*_0xcd21ec['waitDuration']);await _0x412d33['ntzzl'](doSomething,_0x412d33['GDhpC'],'{\x22appId\x22:\x22'+$[_0x5b26('84',']Rz3')]+_0x5b26('85','w@pY')+_0x22b9e3[_0x5b26('86','wQYn')]+_0x5b26('87','oR2*')+_0xcd21ec[_0x5b26('88','e&t@')]+',\x22actionType\x22:\x220\x22}');await $['wait'](0x3e8);}}else{$[_0x5b26('50','X0YK')](_0x5b26('89','[8a5')+_0xcd21ec[_0x5b26('6a','x3(7')]+'任务');}break;case 0xe:if(_0x412d33[_0x5b26('8a','moDe')](_0xcd21ec['maxTimes']-_0xcd21ec[_0x5b26('8b','jn3J')],0x0)){for(let _0x4e8acd=0x0;_0x4e8acd<assistList[_0x5b26('40','^JD2')];_0x4e8acd++){$[_0x5b26('8c','Y#xi')]('执行'+_0xcd21ec[_0x5b26('8d','vtpL')]);await _0x412d33[_0x5b26('8e','^JD2')](doSomething,_0x5b26('8f','nbKi'),_0x5b26('90','rBjI')+$['appId']+_0x5b26('91','[8a5')+assistList[_0x4e8acd]+_0x5b26('92','9R9f')+_0xcd21ec[_0x5b26('93','41QB')]+_0x5b26('94','Y#xi'));await $[_0x5b26('95','Ybj3')](0x7d0);}}else{$['log']('已经完成所有'+_0xcd21ec[_0x5b26('96','Y#xi')]+'任务');}$[_0x5b26('97','JdoO')](_0x412d33['dFsDG']);assistList[_0x5b26('98','@Z]4')](_0xcd21ec[_0x5b26('99','rBjI')][_0x5b26('9a','tvOM')]);break;default:break;}}}if($[_0x5b26('9b','zO19')]){for(let _0x25fa1a=0x0;_0x412d33[_0x5b26('9c','X0YK')](_0x25fa1a,_0x412d33[_0x5b26('9d',']ahb')](parseInt,$[_0x5b26('9e','QfOo')]/$[_0x5b26('9f',']ahb')][_0x5b26('a0','4Pq7')]));_0x25fa1a++){$[_0x5b26('a1','^JD2')](_0x412d33['IGOCB']);await _0x412d33[_0x5b26('a2','422B')](doSomething,_0x412d33[_0x5b26('a3','41QB')],_0x5b26('a4','kcX[')+$[_0x5b26('a5','tv*Y')]+'\x22}');await $[_0x5b26('a6','kcX[')](0x3e8);}}if(_0x412d33[_0x5b26('a7','nQS)')]($['bean'],0x0)){message+=_0x5b26('a8','nbKi')+$[_0x5b26('a9','zO19')]+'】'+($[_0x5b26('aa','jn3J')]||$[_0x5b26('ab','TOgN')])+_0x5b26('ac','CJVm')+$[_0x5b26('ad','422B')]+_0x5b26('ae','4Pq7');}}function doSomething(_0x5c1398,_0x1b951d){var _0x28f563={'pAPnU':_0x5b26('af','7&yt'),'OZCSA':'jBeanAwardVo','cJMbD':function(_0x57514c,_0x5a60ac){return _0x57514c(_0x5a60ac);},'BrnpS':_0x5b26('b0','tv*Y'),'yQhmd':_0x5b26('b1','e&t@'),'sGooP':_0x5b26('b2','fVIj'),'OtjqT':_0x5b26('b3','^JD2'),'jMsxP':'gzip,\x20deflate,\x20br','lrkCL':_0x5b26('b4','zO19'),'tyOIG':_0x5b26('b5','oR2*'),'fFMch':_0x5b26('b6','Ybj3'),'mbXPV':_0x5b26('b7','[8a5')};let _0x4fba4d={'url':_0x28f563[_0x5b26('b8','tv*Y')],'headers':{'Content-Type':_0x28f563[_0x5b26('b9','x3(7')],'Accept-Encoding':_0x28f563[_0x5b26('ba','%Vde')],'Cookie':cookie,'Connection':_0x28f563[_0x5b26('bb','h3FR')],'Accept':_0x28f563[_0x5b26('bc','w@pY')],'User-Agent':_0x28f563[_0x5b26('bd','JsPb')],'Referer':_0x28f563[_0x5b26('be','qTJT')],'Accept-Language':_0x5b26('bf','jn3J')},'body':_0x5b26('c0','9R9f')+_0x5c1398+_0x5b26('c1','TOgN')+_0x1b951d+_0x5b26('c2','Ybj3')};return new Promise(_0x1ef674=>{$[_0x5b26('c3','422B')](_0x4fba4d,(_0x7f4dee,_0x23b434,_0x4fbab1)=>{try{if(_0x7f4dee){$[_0x5b26('c4','h3FR')](_0x7f4dee);}else{if(_0x4fbab1){_0x4fbab1=JSON[_0x5b26('c5','tvOM')](_0x4fbab1);if(_0x4fbab1[_0x5b26('c6','kcX[')][_0x5b26('c7','h3FR')]){switch(_0x5c1398){case'healthyDay_getHomeData':$[_0x5b26('c8','QfOo')]=_0x4fbab1[_0x5b26('c9','422B')][_0x5b26('ca','CiGj')]['taskVos'];$['userInfo']=_0x4fbab1[_0x5b26('cb','Y#xi')][_0x5b26('cc','Nqzw')][_0x5b26('cd','zO19')];$[_0x5b26('ce',']ahb')]=_0x4fbab1[_0x5b26('cf','8qj)')][_0x5b26('d0','e&t@')]['userInfo'][_0x5b26('d1','wQYn')];break;case _0x5b26('d2','fVIj'):if(_0x4fbab1[_0x5b26('d3','oR2*')][_0x5b26('d4','4Pq7')][_0x5b26('d5','[8a5')](_0x28f563[_0x5b26('d6','@Z]4')])){if(_0x4fbab1[_0x5b26('d7','JsPb')][_0x5b26('d8','9R9f')][_0x5b26('d9','&vI]')]['hasOwnProperty'](_0x28f563['OZCSA'])){$[_0x5b26('61','7&yt')]('\x20\x20\x20\x20└\x20抽到了'+_0x4fbab1[_0x5b26('3f','QfOo')][_0x5b26('da','kcX[')][_0x5b26('db','41QB')][_0x5b26('dc','8qj)')][_0x5b26('dd','@Z]4')]+'个'+_0x4fbab1[_0x5b26('de','[8a5')][_0x5b26('df','$toK')][_0x5b26('e0','@Z]4')][_0x5b26('e1','fVIj')][_0x5b26('e2','^JD2')]);$[_0x5b26('e3','[8a5')]+=_0x28f563[_0x5b26('e4',']ahb')](parseInt,_0x4fbab1[_0x5b26('e5','@Z]4')]['result'][_0x5b26('e6','nQS)')]['jBeanAwardVo'][_0x5b26('e7','CJVm')]);}else{$['log'](_0x5b26('e8','CJVm')+JSON['stringify'](_0x4fbab1[_0x5b26('e9','zO19')][_0x5b26('ea','rdwK')]));message+=_0x5b26('eb','SN]5')+$[_0x5b26('ec','fVIj')]+'】'+($[_0x5b26('ed','@Z]4')]||$[_0x5b26('ee','wQYn')])+_0x5b26('ef','41QB')+JSON['stringify'](_0x4fbab1[_0x5b26('f0','TOgN')][_0x5b26('f1','cuVS')]);}}break;default:if(_0x4fbab1[_0x5b26('f2',']Rz3')][_0x5b26('f3','qTJT')][_0x5b26('f4','tvOM')](_0x28f563['BrnpS'])){$['log'](_0x5b26('f5','422B')+_0x4fbab1[_0x5b26('f6','&vI]')][_0x5b26('f7','rBjI')][_0x5b26('f8','e&t@')]+'积分');}if(_0x4fbab1[_0x5b26('e9','zO19')]['result'][_0x5b26('f9','^JD2')](_0x28f563[_0x5b26('fa','kcX[')])){$['userScore']=_0x4fbab1[_0x5b26('f6','&vI]')][_0x5b26('fb','moDe')]['userScore'];}break;}}else{$[_0x5b26('a1','^JD2')](_0x5b26('fc','oR2*')+JSON['stringify'](_0x4fbab1[_0x5b26('fd','JdoO')][_0x5b26('fe','TOgN')]));}}else{$['log']('京东服务器返回空数据');}}}catch(_0x1a4b16){$[_0x5b26('ff','KFOB')](_0x1a4b16,_0x23b434);}finally{_0x1ef674();}});});}function checkCookie(){var _0x45fafe={'rlMxo':function(_0x5ec724,_0x35f04c){return _0x5ec724===_0x35f04c;},'vXmbZ':'1001','TBuPM':_0x5b26('100','duU['),'CnVsj':_0x5b26('101','vtpL'),'LJykK':'keep-alive','bOlmZ':_0x5b26('102','CiGj'),'ziXam':'zh-cn','tibOp':_0x5b26('103','41QB')};const _0x1b45f4={'url':_0x45fafe['TBuPM'],'headers':{'Host':_0x5b26('104','422B'),'Accept':_0x45fafe[_0x5b26('105','@Z]4')],'Connection':_0x45fafe[_0x5b26('106','wQYn')],'Cookie':cookie,'User-Agent':_0x45fafe[_0x5b26('107','tv*Y')],'Accept-Language':_0x45fafe[_0x5b26('108','x3(7')],'Referer':_0x45fafe[_0x5b26('109','[8a5')],'Accept-Encoding':_0x5b26('10a','jn3J')}};return new Promise(_0x3c17fb=>{$['get'](_0x1b45f4,(_0x1de362,_0x3994af,_0x3a48cf)=>{try{if(_0x1de362){$[_0x5b26('10b','tv*Y')](_0x1de362);}else{if(_0x3a48cf){_0x3a48cf=JSON[_0x5b26('10c','Nqzw')](_0x3a48cf);if(_0x45fafe[_0x5b26('10d','QfOo')](_0x3a48cf[_0x5b26('10e','TOgN')],_0x45fafe['vXmbZ'])){$[_0x5b26('10f','zlkG')]=![];return;}if(_0x3a48cf['retcode']==='0'&&_0x3a48cf['data'][_0x5b26('110','@Z]4')](_0x5b26('cd','zO19'))){$['nickName']=_0x3a48cf[_0x5b26('111','41QB')][_0x5b26('112','7&yt')][_0x5b26('113','w@pY')][_0x5b26('114','%Vde')];}}else{$[_0x5b26('2a','Ybj3')](_0x5b26('115','tv*Y'));}}}catch(_0x2a9738){$[_0x5b26('116','nbKi')](_0x2a9738);}finally{_0x3c17fb();}});});};_0xodK='jsjiami.com.v6';
 // prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
